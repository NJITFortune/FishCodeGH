function out = Katiehkg2Replacer(in)

% OBW        
figure(1); clf;

    luz = [in.info.luz];
      
       
            for k = 2:length(luz)-1
            
     

                  kidx =  find([in.s.timcont]/3600 >= abs(luz(k-1))& [in.s.timcont]/3600 <abs(luz(k+1)));
                  
                  histogram([in.s(kidx).obwAmp],100);

                  %Lower lim
                    fprintf('Click cutoff for eliminating erroneously low amplitude measurements.\n');
                    [cutoffampL, ~]  = ginput(1);
                    plot([cutoffampL, cutoffampL], [0 10], 'r-', 'LineWidth', 2, 'MarkerSize', 12);
                    drawnow; 
                    
                  %Upper lim
                    fprintf('Click cutoff for eliminating erroneously high amplitude measurements.\n');
                    [cutoffampH, ~]  = ginput(1);
                    plot([cutoffampH, cutoffampH], [0 10], 'r-', 'LineWidth', 2, 'MarkerSize', 12);
                    drawnow; 
                    
                    obwidx(k-1) = find([in.obwAmp] > cutoffampL & [in.obwAmp] < cutoffampH);

                     pause(1);
                 
                
            end

            
        close(1);

             newobw(1,:) = in.s(obwidx(1)).obwAmp;
            for j = 2:length(obwidx)

                newerobw(j,:) = [newobw(1,:), in.s(obwidx(j)).obwAmp];
                
            end


            newerobw





  

