function [exp, fish, ld] = k_fftdaymovabovemeans(in)
%   clearvars -except hkg hkg2 dark light darkmulti lightmulti kg kg2
%   in = darkmulti(3).h;

ld = in(1).day(1).ld;

 %all days
 %average day by trial
 


%figure(99);clf; hold on; 
 for j = length(in):-1:1 % experiments of x hour length
  
        mday = zeros(1, length(in(j).day(1).tim));
     

        for k = length(in(j).day):-1:1 %days within each trial
        
              %fill temporary vector with data from each day 
                mday(k,:) = in(j).day(k).Sobwyy;
                fish(j).amprange(k,:) = in(j).day(k).amprange;
                amprange(k,:) = in(j).day(k).amprange;

                fday(k,:) = in(j).day(k).freq;
                tday(k,:) = in(j).day(k).temp;
               
        end
    
    %necessary so that the mean of a single day isn't one value  
       if length(in(j).day) > 1  
      %average across days   
       daymean(j,:) = mean(mday);
       freqday(j,:) = mean(fday);
       tempday(j,:) = mean(tday);
      else
       daymean(j,:) = mday;
       freqday(j,:) = fday;
       tempday(j,:) = tday;
       end

        avgrange(j,:) = mean(amprange);
    
 end
           
    numrow = size(daymean);
    if numrow(1) == 1
         exp.meanofexperimentmeans = movmean(daymean, 5);
    else
    %averages for each x hour set of experiments
    expmean = mean(daymean);
    exp.meanofexperimentmeans = movmean(expmean, 5);
    end
    %testmean = movmean(expmean, 5);
    %average max and min
    exp.expavgrange = mean(avgrange);
    
        %expmean = smoothdata(meanofexperimentmeans, 'SamplePoints',in(1).trial(1).tim);
    
    
    
    exp.hourtim = in(j).day(1).tim/3600;
    
   
   

    
    

